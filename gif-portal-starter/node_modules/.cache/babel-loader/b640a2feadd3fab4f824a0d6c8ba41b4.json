{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst context_js_1 = require(\"../context.js\");\nconst error_js_1 = require(\"../../error.js\");\nclass RpcFactory {\n  static build(idlIx, txFn, idlErrors, provider) {\n    const rpc = async function () {\n      var _a;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      const tx = txFn(...args);\n      const [, ctx] = (0, context_js_1.splitArgsAndCtx)(idlIx, [...args]);\n      if (provider.sendAndConfirm === undefined) {\n        throw new Error(\"This function requires 'Provider.sendAndConfirm' to be implemented.\");\n      }\n      try {\n        return await provider.sendAndConfirm(tx, (_a = ctx.signers) !== null && _a !== void 0 ? _a : [], ctx.options);\n      } catch (err) {\n        throw (0, error_js_1.translateError)(err, idlErrors);\n      }\n    };\n    return rpc;\n  }\n}\nexports.default = RpcFactory;","map":{"version":3,"mappings":";;;;;AAGA;AAEA;AAOA,MAAqBA,UAAU;EACtB,OAAOC,KAAK,CACjBC,KAAQ,EACRC,IAA2B,EAC3BC,SAA8B,EAC9BC,QAAkB;IAElB,MAAMC,GAAG,GAAkB,kBAAkB;;wCAARC,IAAI;QAAJA,IAAI;MAAA;MACvC,MAAMC,EAAE,GAAGL,IAAI,CAAC,GAAGI,IAAI,CAAC;MACxB,MAAM,GAAGE,GAAG,CAAC,GAAG,gCAAe,EAACP,KAAK,EAAE,CAAC,GAAGK,IAAI,CAAC,CAAC;MACjD,IAAIF,QAAQ,CAACK,cAAc,KAAKC,SAAS,EAAE;QACzC,MAAM,IAAIC,KAAK,CACb,qEAAqE,CACtE;;MAEH,IAAI;QACF,OAAO,MAAMP,QAAQ,CAACK,cAAc,CAClCF,EAAE,EACF,SAAG,CAACK,OAAO,mCAAI,EAAE,EACjBJ,GAAG,CAACK,OAAO,CACZ;OACF,CAAC,OAAOC,GAAG,EAAE;QACZ,MAAM,6BAAc,EAACA,GAAG,EAAEX,SAAS,CAAC;;IAExC,CAAC;IAED,OAAOE,GAAG;EACZ;;AA3BFU","names":["RpcFactory","build","idlIx","txFn","idlErrors","provider","rpc","args","tx","ctx","sendAndConfirm","undefined","Error","signers","options","err","exports"],"sourceRoot":"","sources":["../../../../src/program/namespace/rpc.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}